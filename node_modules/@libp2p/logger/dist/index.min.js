(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PLogger = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PLogger=(()=>{var L=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var re=Object.prototype.hasOwnProperty;var te=(e,r)=>{for(var t in r)L(e,t,{get:r[t],enumerable:!0})},ne=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ee(r))!re.call(e,o)&&o!==t&&L(e,o,{get:()=>r[o],enumerable:!(n=H(r,o))||n.enumerable});return e};var oe=e=>ne(L({},"__esModule",{value:!0}),e);var Ne={};te(Ne,{defaultLogger:()=>Se,disable:()=>Ue,enable:()=>ke,enabled:()=>Me,logger:()=>N,peerLogger:()=>Ee,prefixLogger:()=>W});var Oe=new Uint8Array(0);function T(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function ie(e,r){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<e.length;o++){var f=e.charAt(o),l=f.charCodeAt(0);if(t[l]!==255)throw new TypeError(f+" is ambiguous");t[l]=o}var d=e.length,v=e.charAt(0),A=Math.log(d)/Math.log(256),i=Math.log(256)/Math.log(d);function s(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var b=0,p=0,u=0,h=a.length;u!==h&&a[u]===0;)u++,b++;for(var g=(h-u)*i+1>>>0,y=new Uint8Array(g);u!==h;){for(var C=a[u],$=0,w=g-1;(C!==0||$<p)&&w!==-1;w--,$++)C+=256*y[w]>>>0,y[w]=C%d>>>0,C=C/d>>>0;if(C!==0)throw new Error("Non-zero carry");p=$,u++}for(var F=g-p;F!==g&&y[F]===0;)F++;for(var S=v.repeat(b);F<g;++F)S+=e.charAt(y[F]);return S}function c(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var b=0;if(a[b]!==" "){for(var p=0,u=0;a[b]===v;)p++,b++;for(var h=(a.length-b)*A+1>>>0,g=new Uint8Array(h);a[b];){var y=t[a.charCodeAt(b)];if(y===255)return;for(var C=0,$=h-1;(y!==0||C<u)&&$!==-1;$--,C++)y+=d*g[$]>>>0,g[$]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");u=C,b++}if(a[b]!==" "){for(var w=h-u;w!==h&&g[w]===0;)w++;for(var F=new Uint8Array(p+(h-w)),S=p;w!==h;)F[S++]=g[w++];return F}}}function E(a){var b=c(a);if(b)return b;throw new Error(`Non-${r} character`)}return{encode:s,decodeUnsafe:c,decode:E}}var se=ie,ae=se,J=ae;var O=class{name;prefix;baseEncode;constructor(r,t,n){this.name=r,this.prefix=t,this.baseEncode=n}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},z=class{name;prefix;baseDecode;prefixCodePoint;constructor(r,t,n){this.name=r,this.prefix=t;let o=t.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=n}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return R(this,r)}},j=class{decoders;constructor(r){this.decoders=r}or(r){return R(this,r)}decode(r){let t=r[0],n=this.decoders[t];if(n!=null)return n.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function R(e,r){return new j({...e.decoders??{[e.prefix]:e},...r.decoders??{[r.prefix]:r}})}var I=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,t,n,o){this.name=r,this.prefix=t,this.baseEncode=n,this.baseDecode=o,this.encoder=new O(r,t,n),this.decoder=new z(r,t,o)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};function V({name:e,prefix:r,encode:t,decode:n}){return new I(e,r,t,n)}function P({name:e,prefix:r,alphabet:t}){let{encode:n,decode:o}=J(t,e);return V({prefix:r,name:e,encode:n,decode:f=>T(o(f))})}function ue(e,r,t,n){let o=e.length;for(;e[o-1]==="=";)--o;let f=new Uint8Array(o*t/8|0),l=0,d=0,v=0;for(let A=0;A<o;++A){let i=r[e[A]];if(i===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<t|i,l+=t,l>=8&&(l-=8,f[v++]=255&d>>l)}if(l>=t||(255&d<<8-l)!==0)throw new SyntaxError("Unexpected end of data");return f}function fe(e,r,t){let n=r[r.length-1]==="=",o=(1<<t)-1,f="",l=0,d=0;for(let v=0;v<e.length;++v)for(d=d<<8|e[v],l+=8;l>t;)l-=t,f+=r[o&d>>l];if(l!==0&&(f+=r[o&d<<t-l]),n)for(;(f.length*t&7)!==0;)f+="=";return f}function ce(e){let r={};for(let t=0;t<e.length;++t)r[e[t]]=t;return r}function x({name:e,prefix:r,bitsPerChar:t,alphabet:n}){let o=ce(n);return V({prefix:r,name:e,encode(f){return fe(f,n,t)},decode(f){return ue(f,o,t,e)}})}var B=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Je=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Re=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ve=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Be=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qe=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ge=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xe=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ze=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var q=P({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_e=P({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),He=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),er=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rr=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function le(e,r){if(typeof e=="string")return de(e);if(typeof e=="number")return be(e,r);throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(e)}`)}var k=le;function de(e){if(typeof e!="string"||e.length===0||e.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(e)}`);let r=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(e);if(!r?.groups)return NaN;let{value:t,unit:n="ms"}=r.groups,o=parseFloat(t),f=n.toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return o*315576e5;case"months":case"month":case"mo":return o*26298e5;case"weeks":case"week":case"w":return o*6048e5;case"days":case"day":case"d":return o*864e5;case"hours":case"hour":case"hrs":case"hr":case"h":return o*36e5;case"minutes":case"minute":case"mins":case"min":case"m":return o*6e4;case"seconds":case"second":case"secs":case"sec":case"s":return o*1e3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:throw Error(`Unknown unit "${f}" provided to ms.parse(). value=${JSON.stringify(e)}`)}}function pe(e){let r=Math.abs(e);return r>=315576e5?`${Math.round(e/315576e5)}y`:r>=26298e5?`${Math.round(e/26298e5)}mo`:r>=6048e5?`${Math.round(e/6048e5)}w`:r>=864e5?`${Math.round(e/864e5)}d`:r>=36e5?`${Math.round(e/36e5)}h`:r>=6e4?`${Math.round(e/6e4)}m`:r>=1e3?`${Math.round(e/1e3)}s`:`${e}ms`}function he(e){let r=Math.abs(e);return r>=315576e5?U(e,r,315576e5,"year"):r>=26298e5?U(e,r,26298e5,"month"):r>=6048e5?U(e,r,6048e5,"week"):r>=864e5?U(e,r,864e5,"day"):r>=36e5?U(e,r,36e5,"hour"):r>=6e4?U(e,r,6e4,"minute"):r>=1e3?U(e,r,1e3,"second"):`${e} ms`}function be(e,r){if(typeof e!="number"||!Number.isFinite(e))throw Error("Value provided to ms.format() must be of type number.");return r?.long?he(e):pe(e)}function U(e,r,t,n){let o=r>=t*1.5;return`${Math.round(e/t)} ${n}${o?"s":""}`}function D(e){t.debug=t,t.default=t,t.coerce=v,t.disable=f,t.enable=o,t.enabled=l,t.humanize=k,t.destroy=A,Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={};function r(i){let s=0;for(let c=0;c<i.length;c++)s=(s<<5)-s+i.charCodeAt(c),s|=0;return t.colors[Math.abs(s)%t.colors.length]}t.selectColor=r;function t(i,s){let c,E=null,a,b;function p(...u){if(!p.enabled)return;let h=p,g=Number(new Date),y=g-(c||g);h.diff=y,h.prev=c,h.curr=g,c=g,u[0]=t.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let C=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(w,F)=>{if(w==="%%")return"%";C++;let S=t.formatters[F];if(typeof S=="function"){let Y=u[C];w=S.call(h,Y),u.splice(C,1),C--}return w}),t.formatArgs.call(h,u),s?.onLog!=null&&s.onLog(...u),(h.log||t.log).apply(h,u)}return p.namespace=i,p.useColors=t.useColors(),p.color=t.selectColor(i),p.extend=n,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(a!==t.namespaces&&(a=t.namespaces,b=t.enabled(i)),b),set:u=>{E=u}}),typeof t.init=="function"&&t.init(p),p}function n(i,s){let c=t(this.namespace+(typeof s>"u"?":":s)+i);return c.log=this.log,c}function o(i){t.save(i),t.namespaces=i,t.names=[],t.skips=[];let s,c=(typeof i=="string"?i:"").split(/[\s,]+/),E=c.length;for(s=0;s<E;s++)c[s]&&(i=c[s].replace(/\*/g,".*?"),i[0]==="-"?t.skips.push(new RegExp("^"+i.substr(1)+"$")):t.names.push(new RegExp("^"+i+"$")))}function f(){let i=[...t.names.map(d),...t.skips.map(d).map(s=>"-"+s)].join(",");return t.enable(""),i}function l(i){if(i[i.length-1]==="*")return!0;let s,c;for(s=0,c=t.skips.length;s<c;s++)if(t.skips[s].test(i))return!1;for(s=0,c=t.names.length;s<c;s++)if(t.names[s].test(i))return!0;return!1}function d(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function v(i){return i instanceof Error?i.stack??i.message:i}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.setupFormatters(t.formatters),t.enable(t.load()),t}var M=Fe(),me=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ge(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/(edge|trident)\/(\d+)/)!=null?!1:typeof document<"u"&&document.documentElement?.style?.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/firefox\/(\d+)/)!=null&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/applewebkit\/(\d+)/)}function Ce(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+k(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(t++,o==="%c"&&(n=t))}),e.splice(n,0,r)}var we=console.debug??console.log??(()=>{});function xe(e){try{e?M?.setItem("debug",e):M?.removeItem("debug")}catch{}}function ye(){let e;try{e=M?.getItem("debug")}catch{}return!e&&typeof globalThis.process<"u"&&"env"in globalThis.process&&(e=globalThis.process.env.DEBUG),e}function Fe(){try{return localStorage}catch{}}function ve(e){e.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}var X=D({formatArgs:Ce,save:xe,load:ye,useColors:ge,setupFormatters:ve,colors:me,storage:M,log:we});var m=X;function Z(e,r={}){let t=r.prefixLength??2,n=r.suffixLength??4,o=e.toString();return`${o.substring(0,t)}\u2026${o.substring(o.length,o.length-n)}`}m.formatters.b=e=>e==null?"undefined":q.baseEncode(e);m.formatters.t=e=>e==null?"undefined":B.baseEncode(e);m.formatters.m=e=>e==null?"undefined":G.baseEncode(e);m.formatters.p=e=>e==null?"undefined":e.toString();m.formatters.c=e=>e==null?"undefined":e.toString();m.formatters.k=e=>e==null?"undefined":e.toString();m.formatters.a=e=>e==null?"undefined":e.toString();function K(e,r=""){let t=Q(e.message),n=Q(e.stack);return t!=null&&n!=null?n.includes(t)?`${n.split(`
`).join(`
${r}`)}`:`${t}
${r}${n.split(`
`).join(`
${r}`)}`:n!=null?`${n.split(`
`).join(`
${r}`)}`:t!=null?`${t}`:`${e.toString()}`}function $e(e){return e instanceof AggregateError||e?.name==="AggregateError"&&Array.isArray(e.errors)}function _(e,r=""){if($e(e)){let t=K(e,r);return e.errors.length>0?(r=`${r}    `,t+=`
${r}${e.errors.map(n=>`${_(n,`${r}`)}`).join(`
${r}`)}`):t+=`
${r}[Error list was empty]`,t.trim()}return K(e,r)}m.formatters.e=e=>e==null?"undefined":_(e);function Ae(e){let r=()=>{};return r.enabled=!1,r.color="",r.diff=0,r.log=()=>{},r.namespace=e,r.destroy=()=>!0,r.extend=()=>r,r}function Ee(e,r={}){return W(Z(e,r),r)}function W(e,r){return{forComponent(t){return N(`${e}:${t}`,r)}}}function Se(e){return{forComponent(r){return N(r,e)}}}function N(e,r){let t=Ae(`${e}:trace`);return m.enabled(`${e}:trace`)&&m.names.map(n=>n.toString()).find(n=>n.includes(":trace"))!=null&&(t=m(`${e}:trace`,r)),Object.assign(m(e,r),{error:m(`${e}:error`,r),trace:t,newScope:n=>N(`${e}:${n}`,r)})}function Ue(){m.disable()}function ke(e){m.enable(e)}function Me(e){return m.enabled(e)}function Q(e){if(e!=null&&(e=e.trim(),e.length!==0))return e}return oe(Ne);})();
return Libp2PLogger}));
//# sourceMappingURL=index.min.js.map
